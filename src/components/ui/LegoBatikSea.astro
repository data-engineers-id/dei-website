---
export interface Props {
  class?: string;
}

const { class: className = '' } = Astro.props;
---

<div class={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>
  <svg 
    class="w-full h-full" 
    viewBox="0 0 1440 800" 
    preserveAspectRatio="xMidYMid slice"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <!-- Modern Minimalist Batik Pattern 1: Diagonal Stripes -->
      <pattern id="batik-stripes" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
        <rect width="20" height="20" fill="#1e3a5f"/>
        <rect width="10" height="20" fill="white" fill-opacity="0.15"/>
      </pattern>
      
      <!-- Modern Minimalist Batik Pattern 2: Geometric Lattice -->
      <pattern id="batik-lattice" x="0" y="0" width="30" height="30" patternUnits="userSpaceOnUse">
        <rect width="30" height="30" fill="#1e3a5f"/>
        <circle cx="15" cy="15" r="8" fill="none" stroke="white" stroke-width="1.5" stroke-opacity="0.2"/>
        <circle cx="0" cy="0" r="4" fill="white" fill-opacity="0.1"/>
        <circle cx="30" cy="0" r="4" fill="white" fill-opacity="0.1"/>
        <circle cx="0" cy="30" r="4" fill="white" fill-opacity="0.1"/>
        <circle cx="30" cy="30" r="4" fill="white" fill-opacity="0.1"/>
      </pattern>
      
      <!-- Modern Minimalist Batik Pattern 3: Chevron -->
      <pattern id="batik-chevron" x="0" y="0" width="24" height="24" patternUnits="userSpaceOnUse">
        <rect width="24" height="24" fill="#1e3a5f"/>
        <path d="M0 12 L12 0 L24 12" fill="none" stroke="white" stroke-width="1.5" stroke-opacity="0.15"/>
        <path d="M0 24 L12 12 L24 24" fill="none" stroke="white" stroke-width="1.5" stroke-opacity="0.15"/>
      </pattern>
      
      <!-- Gradient for depth -->
      <linearGradient id="lego-shadow" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#2a4a73"/>
        <stop offset="100%" stop-color="#152a45"/>
      </linearGradient>
      
      <!-- Wave gradient -->
      <linearGradient id="wave-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.15"/>
        <stop offset="50%" stop-color="#4a9eff" stop-opacity="0.1"/>
        <stop offset="100%" stop-color="#1e3a5f" stop-opacity="0.05"/>
      </linearGradient>
      
      <!-- White wave gradient for contrast -->
      <linearGradient id="wave-white" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.25"/>
        <stop offset="100%" stop-color="#ffffff" stop-opacity="0.05"/>
      </linearGradient>
    </defs>
    
    <!-- Sea Waves - Back Layer (Raised and visible) -->
    <path class="wave-back" 
          d="M0,550 Q180,520 360,550 T720,550 T1080,550 T1440,550 L1440,800 L0,800 Z" 
          fill="url(#wave-gradient)" 
          opacity="0.8"/>
    
    <!-- Sea Waves - Middle Layer -->
    <path class="wave-middle" 
          d="M0,600 Q240,570 480,600 T960,600 T1440,600 L1440,800 L0,800 Z" 
          fill="url(#wave-white)" 
          opacity="0.6"/>
    
    <!-- Sea Waves - Front Layer (White caps) -->
    <path class="wave-front" 
          d="M0,650 Q300,620 600,650 T1200,650 T1440,650 L1440,800 L0,800 Z" 
          fill="#ffffff" 
          opacity="0.2"/>
    
    <!-- Lego Block 1 - Large Top Left -->
    <g class="lego-block lego-1" transform="translate(80, 100)">
      <!-- Main block body -->
      <rect x="0" y="20" width="120" height="80" rx="4" fill="url(#batik-stripes)"/>
      <!-- Top studs -->
      <rect x="15" y="10" width="25" height="15" rx="2" fill="#1e3a5f"/>
      <rect x="45" y="10" width="25" height="15" rx="2" fill="#1e3a5f"/>
      <rect x="75" y="10" width="25" height="15" rx="2" fill="#1e3a5f"/>
      <!-- Side shadow -->
      <rect x="115" y="20" width="8" height="80" rx="2" fill="#152a45" opacity="0.3"/>
    </g>
    
    <!-- Lego Block 2 - Medium Top Right -->
    <g class="lego-block lego-2" transform="translate(1150, 80)">
      <rect x="0" y="15" width="90" height="60" rx="4" fill="url(#batik-lattice)"/>
      <rect x="12" y="5" width="20" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="37" y="5" width="20" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="62" y="5" width="20" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="86" y="15" width="6" height="60" rx="2" fill="#152a45" opacity="0.3"/>
    </g>
    
    <!-- Lego Block 3 - Small Mid Left -->
    <g class="lego-block lego-3" transform="translate(50, 300)">
      <rect x="0" y="12" width="70" height="50" rx="3" fill="url(#batik-chevron)"/>
      <rect x="10" y="4" width="16" height="10" rx="2" fill="#1e3a5f"/>
      <rect x="30" y="4" width="16" height="10" rx="2" fill="#1e3a5f"/>
      <rect x="50" y="4" width="16" height="10" rx="2" fill="#1e3a5f"/>
      <rect x="67" y="12" width="5" height="50" rx="2" fill="#152a45" opacity="0.3"/>
    </g>
    
    <!-- Lego Block 4 - Medium Mid Right -->
    <g class="lego-block lego-4" transform="translate(1200, 280)">
      <rect x="0" y="18" width="100" height="70" rx="4" fill="url(#batik-stripes)"/>
      <rect x="14" y="8" width="22" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="40" y="8" width="22" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="66" y="8" width="22" height="12" rx="2" fill="#1e3a5f"/>
      <rect x="96" y="18" width="7" height="70" rx="2" fill="#152a45" opacity="0.3"/>
    </g>
    
    <!-- Lego Block 5 - Large Bottom Left -->
    <g class="lego-block lego-5" transform="translate(150, 520)">
      <rect x="0" y="22" width="130" height="90" rx="4" fill="url(#batik-lattice)"/>
      <rect x="18" y="10" width="26" height="14" rx="2" fill="#1e3a5f"/>
      <rect x="52" y="10" width="26" height="14" rx="2" fill="#1e3a5f"/>
      <rect x="86" y="10" width="26" height="14" rx="2" fill="#1e3a5f"/>
      <rect x="125" y="22" width="8" height="90" rx="2" fill="#152a45" opacity="0.3"/>
    </g>
  </svg>
  
  <style>
    /* Wave Animations */
    .wave-back {
      animation: wave-move-1 8s ease-in-out infinite;
    }
    
    .wave-middle {
      animation: wave-move-2 6s ease-in-out infinite;
    }
    
    .wave-front {
      animation: wave-move-3 10s ease-in-out infinite;
    }
    
    @keyframes wave-move-1 {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(-30px); }
    }
    
    @keyframes wave-move-2 {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(20px); }
    }
    
    @keyframes wave-move-3 {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(-15px); }
    }
    
    /* Lego Block Floating Animations */
    .lego-1 {
      animation: float-1 4s ease-in-out infinite;
    }
    
    .lego-2 {
      animation: float-2 3.5s ease-in-out infinite;
      animation-delay: 0.5s;
    }
    
    .lego-3 {
      animation: float-3 3.8s ease-in-out infinite;
      animation-delay: 1s;
    }
    
    .lego-4 {
      animation: float-4 4.2s ease-in-out infinite;
      animation-delay: 0.3s;
    }
    
    .lego-5 {
      animation: float-5 3.6s ease-in-out infinite;
      animation-delay: 0.8s;
    }
    
    @keyframes float-1 {
      0%, 100% { transform: translate(80px, 100px); }
      50% { transform: translate(80px, 115px); }
    }
    
    @keyframes float-2 {
      0%, 100% { transform: translate(1150px, 80px); }
      50% { transform: translate(1150px, 95px); }
    }
    
    @keyframes float-3 {
      0%, 100% { transform: translate(50px, 300px); }
      50% { transform: translate(50px, 315px); }
    }
    
    @keyframes float-4 {
      0%, 100% { transform: translate(1200px, 280px); }
      50% { transform: translate(1200px, 300px); }
    }
    
    @keyframes float-5 {
      0%, 100% { transform: translate(150px, 520px); }
      50% { transform: translate(150px, 535px); }
    }
    
    /* Mobile Adjustments */
    @media (max-width: 768px) {
      /* Reposition blocks for mobile */
      .lego-1 {
        animation: float-1-mobile 4s ease-in-out infinite;
        opacity: 0.7;
      }
      
      .lego-2 {
        animation: float-2-mobile 3.5s ease-in-out infinite;
        animation-delay: 0.5s;
        opacity: 0.7;
      }
      
      .lego-3 {
        animation: float-3-mobile 3.8s ease-in-out infinite;
        animation-delay: 1s;
        opacity: 0.6;
      }
      
      .lego-4 {
        animation: float-4-mobile 4.2s ease-in-out infinite;
        animation-delay: 0.3s;
        opacity: 0.7;
      }
      
      .lego-5 {
        animation: float-5-mobile 3.6s ease-in-out infinite;
        animation-delay: 0.8s;
        opacity: 0.6;
      }
      
      /* Hide some waves on mobile for cleaner look */
      .wave-back {
        opacity: 0.2;
      }
      
      @keyframes float-1-mobile {
        0%, 100% { transform: translate(20px, 60px) scale(0.7); }
        50% { transform: translate(20px, 75px) scale(0.7); }
      }
      
      @keyframes float-2-mobile {
        0%, 100% { transform: translate(280px, 50px) scale(0.7); }
        50% { transform: translate(280px, 65px) scale(0.7); }
      }
      
      @keyframes float-3-mobile {
        0%, 100% { transform: translate(15px, 200px) scale(0.6); }
        50% { transform: translate(15px, 215px) scale(0.6); }
      }
      
      @keyframes float-4-mobile {
        0%, 100% { transform: translate(300px, 180px) scale(0.7); }
        50% { transform: translate(300px, 200px) scale(0.7); }
      }
      
      @keyframes float-5-mobile {
        0%, 100% { transform: translate(40px, 400px) scale(0.65); }
        50% { transform: translate(40px, 415px) scale(0.65); }
      }
    }
  </style>
</div>
